<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/base-admin}">
<div layout:fragment="content-admin" class="container my-3">
    <div class="row">
        <div class="col-12">
            <h4>RoomMake Dashboard</h4>
            <div class="text-end"><p>2024년 4월 10일 기준</p></div>
            <hr>
            <!-- 주문배송 클레임 영역 -->
            <div class="row mb-3">
                <div class="col-3">
                    <h6><i class="bi bi-truck"></i> 주문/배송</h6>
                    <table class="table border table-bordered">
                        <tbody>
                            <tr>
                                <th>결제완료</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>배송준비중</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>배송중</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>배송완료</th>
                                <td>1 건</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-3">
                    <h6><i class="bi bi-clipboard2-check-fill"></i></h6>

                    <table class="table border table-bordered">
                        <tbody>
                            <tr>
                                <th>구매확정</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>취소요청</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>반품요청</th>
                                <td>1 건</td>
                            </tr>
                            <tr>
                                <th>교환요청</th>
                                <td>1 건</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="col-6">
                    <div id="chart_div"></div>
                </div>
            </div>
            <!-- 매출 역역 -->
            <div class="row mb-3">
                <div class="col-4">
                    <h6><i class="bi bi-graph-up"></i> 매출</h6>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>매출일자</th>
                                <th>매출건수</th>
                                <th>매출액(원)</th>
                            </tr>
                            <tr>
                                <th>4월 1일</th>
                                <td>10 건</td>
                                <th> 3,000,000</th>
                            </tr>
                            <tr>
                                <th>4월 2일</th>
                                <td>10 건</td>
                                <th> 3,000,000</th>
                            </tr>
                            <tr>
                                <th>4월 3일</th>
                                <td>10 건</td>
                                <th> 3,000,000</th>
                            </tr>
                            <tr>
                                <th>4월 4일</th>
                                <td>10 건</td>
                                <th> 3,000,000</th>
                            </tr>
                            <tr>
                                <th>4월 5일</th>
                                <td>10 건</td>
                                <th> 3,000,000</th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="col-8">
                    <div id="curve_chart"></div>
                </div>
            </div>
            <!-- CS 관련 영역 -->
            <div class="row mb-3">
                <div class="col-6">
                    <h6><i class="fa-solid fa-land-mine-on"></i> 미처리 신고 내역</h6>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>신고번호</th>
                                <th>신고내용</th>
                                <th>신고일자</th>
                            </tr>
                            <tr>
                                <th>44362</th>
                                <td>도배</td>
                                <td>2024년 4월 10일</td>
                            </tr>
                            <tr>
                                <th>26466</th>
                                <td>광고</td>
                                <td>2024년 4월 10일</td>
                            </tr>
                        </thead>
                    </table>
                    <div class="text-end">
                        <a class="btn btn-secondary btn-sm" th:href="@{/admin/management/complaint}">신고 내역</a>
                    </div>
                </div>
                <div class="col-6">
                    <h6><i class="fa-solid fa-triangle-exclamation"></i> 미응답 CS 문의</h6>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>카테고리</th>
                                <th>제목</th>
                                <th>작성자</th>
                                <th>작성일자</th>
                            </tr>
                            <tr>
                                <th>배송</th>
                                <td>배송 언제 됨</td>
                                <td>강감찬</td>
                                <td>2024년 4월 5일</td>
                            </tr>
                            <tr>
                                <th>재고</th>
                                <td>입고 언제 됨</td>
                                <td>강감찬</td>
                                <td>2024년 4월 5일</td>
                            </tr>
                        </thead>
                    </table>
                    <div class="text-end">
                        <a class="btn btn-secondary btn-sm" th:href="@{/admin/management/qna}">문의 내역</a>
                    </div>
                </div>
            </div>
            <!-- 방문자 및 신규가입 영역 -->
            <div class="row mb-3">
                <div class="col-6">
                    <h6><i class="bi bi-people"></i> 고객현황</h6>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>구분</th>
                                <th>전일</th>
                                <th>누적</th>
                            </tr>
                            <tr>
                                <th>신규가입</th>
                                <td>5명</td>
                                <td>465명</td>
                            </tr>
                            <tr>
                                <th>방문자</th>
                                <td>245 명</td>
                                <td>5464237 명</td>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" layout:fragment="script">
    // 원형 차트
    var data;
    var chart;

    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawChart);
    google.charts.setOnLoadCallback(drawLineChart);

    function drawChart() {

        // Create our data table.
        data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
            ['Mushrooms', 3],
            ['Onions', 1],
            ['Olives', 1],
            ['Zucchini', 1],
            ['Pepperoni', 2]
        ]);

        var options = {
            'title': 'How Much Pizza I Ate Last Night',
            'width': '100%',
            'height': '100%'
        };

        chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        google.visualization.events.addOneTimeListener(chart, 'select', selectHandler);
        chart.draw(data, options);
    }

    function selectHandler() {
        var selectedItem = chart.getSelection()[0];
        var value = data.getValue(selectedItem.row, 0);
        alert('The user selected ' + value);
    }

    // 라인차트
    function drawLineChart() {
        var data = google.visualization.arrayToDataTable([
            ['Year', 'Sales', 'Expenses'],
            ['2004', 1000, 400],
            ['2005', 1170, 460],
            ['2006', 660, 1120],
            ['2007', 1030, 540]
        ]);

        var options = {
            title: 'Company Performance',
            curveType: 'none',
            legend: {position: 'bottom'}
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
    }

</script>
</html>