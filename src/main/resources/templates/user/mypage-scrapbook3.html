<html lang="ko" layout:decorate="~{layout/mypage-base}" th:with="category='프로필'" th:attr="data-category='프로필',data-sub-category='스크랩'">

<div class="container my-3 mt-4" layout:fragment="content">
    <div class="container mt-5 mb-5" style="max-width: 800px">
        <div class="d-flex justify-content-between align-items-center">
            <h4>스크랩북</h4>
        </div>

        <div class="container mt-5">
            <div class="text-center">
                <img class="rounded-circle" src="/images/mypage/default-profile.png" style="width: 150px; height: 150px;">
                <h4 th:text="${user.nickname}">그릭요거트</h4>
            </div>
            <!-- 스크랩 북 카테고리-->
            <ul class="nav nav-tabs justify-content-center mt-3">
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="/user/scrapbook" style="color: black;">모두 (85)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="/user/scrapbook1" style="color: black;">폴더 (2)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="/user/scrapbook2" style="color: black;">상품 (58)</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="/user/scrapbook3" style="color: cornflowerblue !important;">커뮤니티 (15)</a>
                </li>
            </ul>
            
            <div class="row mt-3">
                <div class="col-md-6">
                    <select id="parentCategory" class="form-select">
                        <option value="">부모 카테고리 선택</option>
                        <th:block th:each="category : ${parentCategories}">
                            <option th:value="${category.productCategoryId}" th:text="${category.productCategoryName}">부모 카테고리</option>
                        </th:block>
                    </select>
                </div>
                <div class="col-md-6">
                    <select id="childCategory" class="form-select">
                        <option value="">자식 카테고리 선택</option>
                    </select>
                </div>
            </div>


            <!-- 스크랩된 커뮤니티 목록 -->
            <div class="row mt-3">
                <div class="col-md-3 mb-3" th:each="community, iterStat : ${scrappedCommunities}">
                    <div class="position-relative">
                        <input class="position-absolute" style="display: none; top: 10px; left: 10px;" type="checkbox">
                        <img alt="Gallery Image" class="gallery-img" th:src="@{${community.communityImage}}" style="width:100%; height:170px; border-radius: 2px;">
                        <div class="product-info">
                            <p style="font-size: 13px; margin-bottom: 0.25rem;" th:text="${community.communityTitle}">커뮤니티 제목</p>
                            <h6 class="fw-bold" style="font-size: 12px; margin-bottom: 0.25rem;" th:text="${community.authorName}">작성자 이름</h6>
                            <small class="text-muted">조회수: <span th:text="${community.viewCount}">0</span></small>
                            <br/>
                            <small class="text-muted">스크랩 수: <span th:text="${community.scrapCount}">0</span></small>
                        </div>
                    </div>
                    <!-- 4번째 요소마다 clearfix 추가 -->
                    <div th:if="${iterStat.count % 4 == 0}" class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script layout:fragment="script" type="text/javascript">
</script>
</html>







